<?xml version="1.0"?>
<root main_tree_to_execute="TestTree">
    <!-- ////////// -->
    <BehaviorTree ID="TestTree">
        <ForceFailure>
        <Sequence>

            <!-- Palletizing Options -->
            <SubscribePalletizingOptions name="Palletizing Options" topic_name="/dsr01/robin/lft/palletizing_options"
                tool_name="{tool_name}"
                object_name="{object_name}"
                object_weight="{object_weight}"
                pattern_file="{pattern_file}"
                transform_name="{transform_name}"/>

            <!-- Switch -->
            <Switch6 variable="{transform_name}" case_1="layer0" case_2="layer1" case_3="layer2" case_4="layer3" case_5="layer4" case_6="layer5">
                <SetBlackboard output_key="command_id" value="0"/>
                <SetBlackboard output_key="command_id" value="0"/>
                <SetBlackboard output_key="command_id" value="0"/>
                <SetBlackboard output_key="command_id" value="0"/>
                <SetBlackboard output_key="command_id" value="1"/>
                <SetBlackboard output_key="command_id" value="2"/>
                <AlwaysFailure/>
            </Switch6>

            <!-- Common Action -->
            <CommonAction name="Common Action" 
                command_topic="/dsr01/robin/lifter_controller/command" feedback_topic="/dsr01/robin/lifter_controller/feedback" 
                command_id="{command_id}" error_id="{error_id}"/>

        </Sequence>
        </ForceFailure>
    </BehaviorTree>
    <!-- ////////// -->
</root>
